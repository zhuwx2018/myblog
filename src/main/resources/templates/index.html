<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" th:src="@{/webjars/vue/2.5.13/vue.js}" ></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script type="text/javascript" th:src="@{/webjars/vue-resource/1.3.4/dist/vue-resource.js}"></script>
</head>
<body>
<div id="app">
    <el-row class="tac">
        <el-col :span="12">
            <h5>自定义颜色</h5>
            <el-menu
                    default-active="2"
                    class="el-menu-vertical-demo"
                    @open="handleOpen"
                    @close="handleClose"
                    background-color="#000"
                    text-color="#fff"
                    active-background-color = "#aaff22"
                    active-text-color="#ffd04b">
                <template v-for="item in menu">
                    <el-submenu :index="item.id" v-if="item.type!=='2'">
                        <template slot="title">
                            <i class="el-icon-menu"></i>
                            <span>{{item.label}}</span>
                        </template>
                        <tree-menu :children= "item.children"></tree-menu>
                    </el-submenu>
                    <el-menu-item v-else :index="item.id">
                        {{menu.label}}
                    </el-menu-item>
                </template>
            </el-menu>
        </el-col>
    </el-row>



</div>
<template id="myNav">
    <div>
        <label  v-for="menu in children">
            <el-submenu :index="menu.id" v-if="menu.type!=='2' && menu.type!=='0' ">
                <template slot="title">
                    <i class="el-icon-menu"></i>
                    <span>{{menu.label}}</span>
                </template>
                <tree-menu :children="menu.children"></tree-menu>
            </el-submenu>
            <el-menu-item v-else :index="menu.id">
                {{menu.label}}
            </el-menu-item>
        </label>
    </div>
</template>
<script>

    var app = new Vue({
        el:'#app',
        data:function(){
            return{
                menu:[]
            }
        },
        methods: {
            handleOpen:function(key, keyPath) {
                console.info(key,keyPath)
            },
            handleClose:function(key, keyPath) {

            }
        },
        mounted:function(){
            var _this = this;
            this.$http.get("menu/init").then(function(res){
                console.info(res.data)
                _this.menu = res.data;
            });
        },
        components:{
            "tree-menu":{
                template:"#myNav",
                name:"tree-menu",
                props:['children']
            }
        }
    });

</script>
</body>
</html>
